<html lang="ko">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Document</title>
</head>

<body>

  <script crossorigin src="https://unpkg.com/react@17/umd/react.development.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@17/umd/react-dom.development.js"></script>
  <script src='https://unpkg.com/react-router-dom@5.0.0/umd/react-router-dom.min.js'></script>
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <div id="root">
  </div>


  <script type="text/babel">

const Main = () => {
        const [movies, setMovies] = React.useState([]);

        React.useEffect( ()=> {
            axios.get('/getmovies')
            .then(response => {
                  console.log(response.data.movies);
                  setMovies(response.data.movies);
            });
        }, [])


    const datas = {
      title : "react 영화 사이트",
      movies :  []
    };

    const renderMovies = movies.map( movie => {
                    return (
                        <div key={movie.id}> {movie.title} <br/>  </div>
                    )
                })

    return (
        <div>
          제목 : {datas.title}

            {renderMovies}
        </div>
    )
}

ReactDOM.render(<Main />, document.querySelector('#root'));      

</script>  
  
</body>

</html>